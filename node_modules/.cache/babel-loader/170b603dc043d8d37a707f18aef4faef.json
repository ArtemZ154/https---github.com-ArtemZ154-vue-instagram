{"ast":null,"code":"import axios from 'axios';\nimport $ from 'jquery';\nconst addr = 'http://127.0.0.1:8000';\naxios.defaults.withCredentials = true;\n/*eslint-disable */\n\nfunction getCookie(namer) {\n  const matches = document.cookie.match(new RegExp('(?:^|; )' + namer.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + '=([^;]*)'));\n  return matches ? decodeURIComponent(matches[1]) : undefined;\n}\n/* eslint-enable */\n\n\nexport default {\n  data: () => ({\n    posts: {},\n    errors: [],\n    account: localStorage.getItem('login')\n  }),\n\n  created() {\n    console.log(localStorage.getItem('login').slice(0, 1));\n\n    if (localStorage.getItem('token') === null) {\n      location.href = '/login';\n    } else {\n      console.log(localStorage.getItem('login'));\n      axios.post(addr + '/lenta_sub', {\n        user_sid: getCookie('user_sid')\n      }, {\n        withCredentials: true,\n        headers: {\n          'x-access-token': localStorage.getItem('token')\n        }\n      }).then(response => {\n        console.log(response.data);\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n  },\n\n  methods: {\n    like_add() {\n      $('.right_bar').unbind().click(function () {\n        axios.post(addr + '/load_like_post', {\n          login: getCookie('login'),\n          number_post: $(this).attr('class').slice(10)\n        }, {\n          withCredentials: true\n        }).then(response => {\n          if (String(response.data) === 'true') {\n            $(this).find('.abc_123').attr('src', addr + '/img/icon/Group_82.png');\n            $(this).find('.p_avc').text('1');\n          } else {\n            $(this).find('.abc_123').attr('src', addr + '/img/main/iconcard/like (1) 1.png');\n            $(this).find('.p_avc').text('0');\n          }\n        }).catch(e => {\n          console.log(e);\n        });\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","$","addr","defaults","withCredentials","getCookie","namer","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","data","posts","errors","account","localStorage","getItem","created","console","log","slice","location","href","post","user_sid","headers","then","response","catch","e","methods","like_add","unbind","click","login","number_post","attr","String","find","text"],"sourceRoot":"","sources":["C:\\Users\\Артём\\Desktop\\https---github.com-ArtemZ154-vue-instagram\\src\\components\\MainMain.vue"],"sourcesContent":["<template>\r\n  <div class=\"all_cards\">\r\n    <div class=\"card35\" v-for=\"(items, index) in posts\" :key=\"index\">\r\n      <div class=\"card\" v-for=\"(item, index) in items\" :key=\"index\">\r\n        <div class=\"left_bar\">\r\n          <img :src=\"item.photo_post\" alt=\"\" class=\"img_card\" />\r\n        </div>\r\n        <div class=\"right_bar\" :class=\"item.number_post\" id=\"class_roo\">\r\n          <div class=\"nav_card\">\r\n            <div class=\"left_button\">\r\n              <div class=\"like\">\r\n                <a class=\"like_abc\" v-if=\"item.setting_like == false\"><img src=\"http://127.0.0.1:8000/img/main/iconcard/like (1) 1.png\" alt=\"\" class=\"abc_123\" @click=\"like_add\"/></a>\r\n                <a class=\"like_abc\" v-if=\"item.setting_like == true\"><img src=\"http://127.0.0.1:8000/img/icon/Group_82.png\" alt=\"\" class=\"abc_123\" @click=\"like_add\"/></a>\r\n                <p style=\"position: relative; display: block; margin-left: 6px;\" class=\"p_avc\">\r\n                  {{ item.like_post }}\r\n                </p>\r\n              </div>\r\n              <a href=\"\"\r\n                ><img\r\n                  src=\"http://127.0.0.1:8000/img/main/iconcard/chat 1.png\"\r\n                  alt=\"\"\r\n              /></a>\r\n              <a href=\"\"\r\n                ><img\r\n                  src=\"http://127.0.0.1:8000/img/main/iconcard/share 1.png\"\r\n                  alt=\"\"\r\n              /></a>\r\n            </div>\r\n            <div class=\"right_button\">\r\n              <button>Save</button>\r\n            </div>\r\n          </div>\r\n          <div class=\"account\">\r\n            <img :src=\"item.avatar\" alt=\"\" class=\"personone\" />\r\n            <router-link :to=\"'/account/' + item.login\"><p style=\"margin-top: -1px;\">{{ item.login }}</p></router-link>\r\n          </div>\r\n          <div class=\"account_me_comment\">\r\n            <p>{{ item.text_post }}</p>\r\n          </div>\r\n          <div class=\"comment\">\r\n            <div class=\"comment_p\">\r\n              <p>Comments:</p>\r\n            </div>\r\n            <div class=\"manyperson\">\r\n              <div class=\"person\">\r\n                <img\r\n                  src=\"http://127.0.0.1:8000/img/main/15746993c3ctewrwea3f4a79f2960819de2c37 1.png\"\r\n                  alt=\"\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"new_comment\">\r\n              <img :src=\"item.avatar\" alt=\"\" />\r\n              <input type=\"text\" placeholder=\"In development\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport $ from 'jquery'\r\n\r\nconst addr = 'http://127.0.0.1:8000'\r\naxios.defaults.withCredentials = true\r\n\r\n/*eslint-disable */\r\nfunction getCookie (namer) {\r\n  const matches = document.cookie.match(new RegExp(\r\n    '(?:^|; )' + namer.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + '=([^;]*)'\r\n  ))\r\n  return matches ? decodeURIComponent(matches[1]) : undefined\r\n}\r\n/* eslint-enable */\r\n\r\nexport default {\r\n  data: () => ({\r\n    posts: {},\r\n    errors: [],\r\n    account: localStorage.getItem('login')\r\n  }),\r\n  created () {\r\n    console.log(localStorage.getItem('login').slice(0, 1))\r\n    if (localStorage.getItem('token') === null) {\r\n      location.href = '/login'\r\n    } else {\r\n      console.log(localStorage.getItem('login'))\r\n      axios\r\n        .post(\r\n          addr + '/lenta_sub',\r\n          {\r\n            user_sid: getCookie('user_sid')\r\n          },\r\n          {\r\n            withCredentials: true,\r\n            headers: {\r\n              'x-access-token': localStorage.getItem('token')\r\n            }\r\n          }\r\n        )\r\n        .then((response) => {\r\n          console.log(response.data)\r\n        })\r\n        .catch((e) => {\r\n          console.log(e)\r\n        })\r\n    }\r\n  },\r\n  methods: {\r\n    like_add () {\r\n      $('.right_bar').unbind().click(function () {\r\n        axios\r\n          .post(\r\n            addr + '/load_like_post',\r\n            {\r\n              login: getCookie('login'),\r\n              number_post: ($(this).attr('class')).slice(10)\r\n            },\r\n            {\r\n              withCredentials: true\r\n            }\r\n          )\r\n          .then((response) => {\r\n            if (String(response.data) === 'true') {\r\n              $(this).find('.abc_123').attr('src', addr + '/img/icon/Group_82.png')\r\n              $(this).find('.p_avc').text('1')\r\n            } else {\r\n              $(this).find('.abc_123').attr('src', addr + '/img/main/iconcard/like (1) 1.png')\r\n              $(this).find('.p_avc').text('0')\r\n            }\r\n          })\r\n          .catch((e) => {\r\n            console.log(e)\r\n          })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}