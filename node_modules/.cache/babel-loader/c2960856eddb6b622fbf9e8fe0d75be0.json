{"ast":null,"code":"import axios from 'axios';\nimport $ from 'jquery';\naxios.defaults.withCredentials = true;\n\nfunction getCookie(name) {\n  const matches = document.cookie.match(new RegExp('(?:^|; )' + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + '=([^;]*)'));\n  return matches ? decodeURIComponent(matches[1]) : undefined;\n}\n\nexport default {\n  data: () => ({\n    posts: {},\n    errors: [],\n    account: getCookie('login')\n  }),\n\n  created() {\n    console.log(123);\n    axios.post('http://127.0.0.1:8000/check_ses', {\n      user_sid: getCookie('user_sid')\n    }, {\n      withCredentials: true\n    }).then(response => {\n      console.log(response);\n\n      if (String(response.data) === 'false') {\n        location.href = '/login';\n      }\n    }).catch(e => {\n      console.log(e);\n    });\n    axios.post('http://127.0.0.1:8000/lenta_sub', {\n      user_sid: getCookie('user_sid')\n    }, {\n      withCredentials: true\n    }).then(response => {\n      let a = 0;\n      console.log(response.data[0].length);\n      a = response.data[0];\n      console.log(a[1]);\n\n      for (let i = 0; i < a.length; i++) {\n        a[i].photo_post = 'http://127.0.0.1:8000' + a[i].photo_post;\n        a[i].avatar = 'http://127.0.0.1:8000' + a[i].avatar;\n      }\n\n      console.log(a);\n      this.posts = response.data;\n    }).catch(e => {\n      console.log(e);\n    });\n  },\n\n  methods: {\n    like_add() {\n      $('.right_bar').on('click', function () {\n        console.log($(this));\n      });\n      axios.post('http://127.0.0.1:8000/load_like_post', {\n        login: getCookie('login')\n      }, {\n        withCredentials: true\n      }).then(response => {\n        console.log(response);\n\n        if (String(response.data) === 'false') {\n          location.href = '/login';\n        }\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAmEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,CAAP,MAAc,QAAd;AAEAD,KAAK,CAACE,QAAN,CAAeC,eAAf,GAAiC,IAAjC;;AAEA,SAASC,SAAT,CAAoBC,IAApB,EAA0B;EACxB,MAAMC,OAAM,GAAIC,QAAQ,CAACC,MAAT,CAAgBC,KAAhB,CAAsB,IAAIC,MAAJ,CACpC,aAAaL,IAAI,CAACM,OAAL,CAAa,8BAAb,EAA6C,MAA7C,CAAb,GAAoE,UADhC,CAAtB,CAAhB;EAGA,OAAOL,OAAM,GAAIM,kBAAkB,CAACN,OAAO,CAAC,CAAD,CAAR,CAAtB,GAAqCO,SAAlD;AACF;;AAEA,eAAe;EACbC,IAAI,EAAE,OAAO;IACXC,KAAK,EAAE,EADI;IAEXC,MAAM,EAAE,EAFG;IAGXC,OAAO,EAAEb,SAAS,CAAC,OAAD;EAHP,CAAP,CADO;;EAMbc,OAAM,GAAK;IACTC,OAAO,CAACC,GAAR,CAAY,GAAZ;IACApB,KAAI,CACDqB,IADH,CAEI,iCAFJ,EAGI;MACEC,QAAQ,EAAElB,SAAS,CAAC,UAAD;IADrB,CAHJ,EAMI;MACED,eAAe,EAAE;IADnB,CANJ,EAUGoB,IAVH,CAUSC,QAAD,IAAc;MAClBL,OAAO,CAACC,GAAR,CAAYI,QAAZ;;MACA,IAAIC,MAAM,CAACD,QAAQ,CAACV,IAAV,CAAN,KAA0B,OAA9B,EAAuC;QACrCY,QAAQ,CAACC,IAAT,GAAgB,QAAhB;MACF;IACD,CAfH,EAgBGC,KAhBH,CAgBUC,CAAD,IAAO;MACZV,OAAO,CAACC,GAAR,CAAYS,CAAZ;IACD,CAlBH;IAmBA7B,KAAI,CACDqB,IADH,CAEI,iCAFJ,EAGI;MACEC,QAAQ,EAAElB,SAAS,CAAC,UAAD;IADrB,CAHJ,EAMI;MACED,eAAe,EAAE;IADnB,CANJ,EAUGoB,IAVH,CAUSC,QAAD,IAAc;MAClB,IAAIM,IAAI,CAAR;MACAX,OAAO,CAACC,GAAR,CAAYI,QAAQ,CAACV,IAAT,CAAc,CAAd,EAAiBiB,MAA7B;MACAD,IAAIN,QAAQ,CAACV,IAAT,CAAc,CAAd,CAAJ;MACAK,OAAO,CAACC,GAAR,CAAYU,CAAC,CAAC,CAAD,CAAb;;MACA,KAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIF,CAAC,CAACC,MAAtB,EAA8BC,CAAC,EAA/B,EAAmC;QACjCF,CAAC,CAACE,CAAD,CAAD,CAAKC,UAAL,GAAkB,0BAA0BH,CAAC,CAACE,CAAD,CAAD,CAAKC,UAAjD;QACAH,CAAC,CAACE,CAAD,CAAD,CAAKE,MAAL,GAAc,0BAA0BJ,CAAC,CAACE,CAAD,CAAD,CAAKE,MAA7C;MACF;;MACAf,OAAO,CAACC,GAAR,CAAYU,CAAZ;MACA,KAAKf,KAAL,GAAaS,QAAQ,CAACV,IAAtB;IACD,CArBH,EAsBGc,KAtBH,CAsBUC,CAAD,IAAO;MACZV,OAAO,CAACC,GAAR,CAAYS,CAAZ;IACD,CAxBH;EAyBD,CApDY;;EAqDbM,OAAO,EAAE;IACPC,QAAO,GAAK;MACVnC,CAAC,CAAC,YAAD,CAAD,CAAgBoC,EAAhB,CAAmB,OAAnB,EAA4B,YAAY;QACtClB,OAAO,CAACC,GAAR,CAAYnB,CAAC,CAAC,IAAD,CAAb;MACD,CAFD;MAGAD,KAAI,CACDqB,IADH,CAEI,sCAFJ,EAGI;QACEiB,KAAK,EAAElC,SAAS,CAAC,OAAD;MADlB,CAHJ,EAOI;QACED,eAAe,EAAE;MADnB,CAPJ,EAWGoB,IAXH,CAWSC,QAAD,IAAc;QAClBL,OAAO,CAACC,GAAR,CAAYI,QAAZ;;QACA,IAAIC,MAAM,CAACD,QAAQ,CAACV,IAAV,CAAN,KAA0B,OAA9B,EAAuC;UACrCY,QAAQ,CAACC,IAAT,GAAgB,QAAhB;QACF;MACD,CAhBH,EAiBGC,KAjBH,CAiBUC,CAAD,IAAO;QACZV,OAAO,CAACC,GAAR,CAAYS,CAAZ;MACD,CAnBH;IAoBF;;EAzBO;AArDI,CAAf","names":["axios","$","defaults","withCredentials","getCookie","name","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","data","posts","errors","account","created","console","log","post","user_sid","then","response","String","location","href","catch","e","a","length","i","photo_post","avatar","methods","like_add","on","login"],"sourceRoot":"","sources":["C:\\Users\\Артём\\Desktop\\instagram\\src\\components\\MainMain.vue"],"sourcesContent":["<template>\r\n  <div class=\"all_cards\">\r\n    <div class=\"card35\" v-for=\"(items, index) in posts\" :key=\"index\">\r\n      <div class=\"card\" v-for=\"(item, index) in items\" :key=\"index\">\r\n        <div class=\"left_bar\">\r\n          <img :src=\"item.photo_post\" alt=\"\" class=\"img_card\" />\r\n        </div>\r\n        <div class=\"right_bar\" :class=\"item.number_post\" id=\"class_roo\">\r\n          <div class=\"nav_card\">\r\n            <div class=\"left_button\">\r\n              <div class=\"like\">\r\n                <a class=\"like_abc\"\r\n                  ><img\r\n                    src=\"http://127.0.0.1:8000/img/main/iconcard/like (1) 1.png\"\r\n                    alt=\"\"\r\n                    @click=\"like_add\"\r\n                /></a>\r\n                <p style=\"position: relative; display: block\">\r\n                  {{ item.like_post }}\r\n                </p>\r\n              </div>\r\n              <a href=\"\"\r\n                ><img\r\n                  src=\"http://127.0.0.1:8000/img/main/iconcard/chat 1.png\"\r\n                  alt=\"\"\r\n              /></a>\r\n              <a href=\"\"\r\n                ><img\r\n                  src=\"http://127.0.0.1:8000/img/main/iconcard/share 1.png\"\r\n                  alt=\"\"\r\n              /></a>\r\n            </div>\r\n            <div class=\"right_button\">\r\n              <button>Save</button>\r\n            </div>\r\n          </div>\r\n          <div class=\"account\">\r\n            <img :src=\"item.avatar\" alt=\"\" class=\"personone\" />\r\n            <router-link :to=\"'/account/' + item.login\"><p style=\"margin-top: -1px;\">{{ item.login }}</p></router-link>\r\n          </div>\r\n          <div class=\"account_me_comment\">\r\n            <p>{{ item.text_post }}</p>\r\n          </div>\r\n          <div class=\"comment\">\r\n            <div class=\"comment_p\">\r\n              <p>Comments:</p>\r\n            </div>\r\n            <div class=\"manyperson\">\r\n              <div class=\"person\">\r\n                <img\r\n                  src=\"http://127.0.0.1:8000/img/main/15746993c3ctewrwea3f4a79f2960819de2c37 1.png\"\r\n                  alt=\"\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"new_comment\">\r\n              <img :src=\"item.avatar\" alt=\"\" />\r\n              <input type=\"text\" placeholder=\"In development\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport $ from 'jquery'\r\n\r\naxios.defaults.withCredentials = true\r\n\r\nfunction getCookie (name) {\r\n  const matches = document.cookie.match(new RegExp(\r\n    '(?:^|; )' + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + '=([^;]*)'\r\n  ))\r\n  return matches ? decodeURIComponent(matches[1]) : undefined\r\n}\r\n\r\nexport default {\r\n  data: () => ({\r\n    posts: {},\r\n    errors: [],\r\n    account: getCookie('login')\r\n  }),\r\n  created () {\r\n    console.log(123)\r\n    axios\r\n      .post(\r\n        'http://127.0.0.1:8000/check_ses',\r\n        {\r\n          user_sid: getCookie('user_sid')\r\n        },\r\n        {\r\n          withCredentials: true\r\n        }\r\n      )\r\n      .then((response) => {\r\n        console.log(response)\r\n        if (String(response.data) === 'false') {\r\n          location.href = '/login'\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.log(e)\r\n      })\r\n    axios\r\n      .post(\r\n        'http://127.0.0.1:8000/lenta_sub',\r\n        {\r\n          user_sid: getCookie('user_sid')\r\n        },\r\n        {\r\n          withCredentials: true\r\n        }\r\n      )\r\n      .then((response) => {\r\n        let a = 0\r\n        console.log(response.data[0].length)\r\n        a = response.data[0]\r\n        console.log(a[1])\r\n        for (let i = 0; i < a.length; i++) {\r\n          a[i].photo_post = 'http://127.0.0.1:8000' + a[i].photo_post\r\n          a[i].avatar = 'http://127.0.0.1:8000' + a[i].avatar\r\n        }\r\n        console.log(a)\r\n        this.posts = response.data\r\n      })\r\n      .catch((e) => {\r\n        console.log(e)\r\n      })\r\n  },\r\n  methods: {\r\n    like_add () {\r\n      $('.right_bar').on('click', function () {\r\n        console.log($(this))\r\n      })\r\n      axios\r\n        .post(\r\n          'http://127.0.0.1:8000/load_like_post',\r\n          {\r\n            login: getCookie('login')\r\n\r\n          },\r\n          {\r\n            withCredentials: true\r\n          }\r\n        )\r\n        .then((response) => {\r\n          console.log(response)\r\n          if (String(response.data) === 'false') {\r\n            location.href = '/login'\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.log(e)\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}